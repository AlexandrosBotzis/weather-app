(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,l,s=n(0),u=n.n(s),d=n(17),h=n.n(d),j=(n(86),n(13)),b=(n(92),n(135)),f=n(136),O=n(140),p=n(134),x=n(64),g=n.n(x),m=n(65),w=n.n(m),v=n(133),y=Object(s.createContext)(null),C=n(3),E=Object(v.a)((function(){return{arrowButtonsContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"35.5rem","& svg":{height:"5rem",width:"5rem"}}}})),S=function(){var e=E(),t=Object(s.useContext)(y),n=t.selectedCardIndex,a=t.setSelectedCardIndex,r=function(e){return a("left"===e?n-1:n+1)},c=Object(j.c)((function(e){return{length:e.weather.length}})).length;return Object(C.jsxs)(O.a,{className:e.arrowButtonsContainer,size:"large","aria-label":"button group",fullWidth:!0,orientation:"horizontal",children:[Object(C.jsx)(p.a,{onClick:function(){return r("left")},color:"primary","aria-label":"left",disabled:n<=0,children:Object(C.jsx)(g.a,{})}),Object(C.jsx)(p.a,{onClick:function(){return r("right")},color:"primary","aria-label":"right",disabled:n>=c-1,children:Object(C.jsx)(w.a,{})})]})},M=function(e){return Math.round(1.8*(e-273)+32)},T=function(e,t,n){var a;return t?"".concat(Math.round((a=e,5/9*(a-32)))).concat(n?"\xb0C":""):"".concat(Math.round(e)).concat(n?"\xb0F":"")},_=n(21),D=n(22),I=D.a.div(a||(a=Object(_.a)(["\n  margin: 0px auto;\n  max-width: 500px;\n  height: 300px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n"]))),W=D.a.div(r||(r=Object(_.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n"]))),k=D.a.div(c||(c=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n"]))),N=D.a.div(i||(i=Object(_.a)(["\n  height: ","%;\n  background-color: lightblue;\n  margin-top: 10px;\n  width: 56px;\n  box-shadow: 0 0 5px black;\n\n  @media (max-width: 420px) {\n    width: 34px;\n  }\n"])),(function(e){return e.height})),R=D.a.span(o||(o=Object(_.a)(["\n  font-size: 1.2rem;\n  text-align: center;\n"]))),H=D.a.div(l||(l=Object(_.a)(["\n  font-size: 0.8rem;\n  margin-top: 0.5rem;\n"]))),L=function(){var e=Object(s.useContext)(y),t=e.isMetric,n=e.selectedCardIndex,a=Object(j.c)((function(e){return{weather:e.weather.weatherData}})).weather,r=a&&a.length>0&&a.find((function(e){return e.id===n})).threeHour;return Object(C.jsx)(I,{children:Object(C.jsx)(W,{children:r&&r.map((function(e){return Object(C.jsxs)(k,{children:[Object(C.jsx)(R,{children:T(e.temp,t,!0)}),Object(C.jsx)(N,{height:T(e.temp,t)}),Object(C.jsxs)(H,{children:[" ",e.hour," "]})]})}))})})},z=n(137),A=n(141),B=n(69),Y=n.n(B),F=n(32),G=n.n(F),J=(n(97),n(70)),P=n.n(J),U=function(e){var t=e.lat,n=e.long;return P.a.get("".concat("https://api.openweathermap.org/data/2.5","/forecast?lat=").concat(t,"&lon=").concat(n,"&appid=").concat("b4ba51d1cb7f483373fab3430dd14f6f"))},$="SET_WEATHER_START",q="SET_WEATHER_SUCCESS",K="SET_FORECAST_LENGTH",Q="SET_WEATHER_ERROR",V="SET_IS_LOADING",X=function(e){var t=e.lat,n=e.long;return function(e){e({type:$}),U({lat:t,long:n}).then((function(t){var n,a=t.data,r=function(e){var t=[];return Object.keys(e).map((function(n,a){return t.push({id:a,date:G()(n).locale("de").format("LL"),threeHour:e[n].map((function(e){return{hour:G()(e.dt_txt).format("HH:mm"),temp:M(e.main.temp)}})),average:M((r=e[n],r.map((function(e){return e.main.temp})).reduce((function(e,t){return e+t}),0)/r.length))});var r})),t}(Y.a.groupBy(a.list,(function(e){return G()(e.dt_txt).startOf("day").format("YYYY-MM-DD")})));e({type:q,payload:{weather:r}}),e((n=r.length,{type:K,payload:{length:n}}))})).catch((function(t){console.log("err ===> ",t),e({type:Q,payload:t})}))}},Z=Object(v.a)((function(){return{weatherContainer:{display:"flex",flexDirection:"row",justifyContent:"space-evenly"},weatherCard:{padding:"0 2rem 2rem 2rem",border:"2px solid blue"},title:{fontWeight:"400",fontSize:"1.2rem",marginBottom:"1rem"},subtitle:{fontSize:".8rem"},value:{fontWeight:"700",fontSize:"1.2rem"}}})),ee=function(){var e=Object(s.useContext)(y),t=e.isMetric,n=e.selectedCardIndex,a=Object(j.b)(),r=Z();Object(s.useEffect)((function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){a(X({lat:e.coords.latitude,long:e.coords.longitude}))}))}),[a]);var c=Object(j.c)((function(e){return{weather:e.weather.weatherData,length:e.weather.length,isError:e.weather.isError}})),i=c.weather,o=c.length,l=c.isError;Object(s.useEffect)((function(){l&&console.log("Cannot load weather for this place")}),[l]);var u=function(e){return e===n};return Object(C.jsx)(z.a,{className:r.weatherContainer,children:i&&i.map((function(e,a){return function(e){return 0===n?e<=n+2:n===o-1?e>=n-2:e===n||e===n+1||e===n-1}(a)&&Object(C.jsxs)(A.a,{className:r.weatherCard,elevation:u(a)?8:4,style:{borderColor:u(a)?"lightblue":"white",opacity:u(a)?"1":"0.4"},children:[Object(C.jsx)("h6",{className:r.title,children:e.date}),Object(C.jsx)("p",{className:r.subtitle,children:" Daily Average: "}),Object(C.jsxs)("p",{className:r.value,children:[" ",T(e.average,t,!0)," "]})]})}))})},te=n(139),ne=n(142),ae=n(138),re=function(){var e=Object(s.useContext)(y),t=e.isMetric,n=e.setIsMetric,a=t?"celcius":"fahrenheit";return Object(C.jsx)(z.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(te.a,{row:!0,className:"radio","aria-label":"unit",name:"unit",value:a,onChange:function(){return n(!t)},children:[Object(C.jsx)(ne.a,{value:"fahrenheit",control:Object(C.jsx)(ae.a,{color:"primary"}),label:"Fahrenheit"}),Object(C.jsx)(ne.a,{value:"celcius",control:Object(C.jsx)(ae.a,{color:"primary"}),label:"Celcius"})]})})},ce=n(41),ie=function(e){var t=e.children,n=Object(s.useState)(!1),a=Object(ce.a)(n,2),r=a[0],c=a[1],i=Object(s.useState)(!0),o=Object(ce.a)(i,2),l=o[0],u=o[1],d=Object(s.useState)(2),h=Object(ce.a)(d,2),j=h[0],b=h[1];return Object(C.jsx)(y.Provider,{value:{isMetric:r,setIsMetric:c,loading:l,setLoading:u,selectedCardIndex:j,setSelectedCardIndex:b},children:t})},oe=function(){return Object(j.c)((function(e){return{loading:e.weather.isLoading}})).loading?Object(C.jsx)(b.a,{}):Object(C.jsx)(f.a,{maxWidth:"sm",children:Object(C.jsxs)(ie,{children:[Object(C.jsx)(re,{}),Object(C.jsx)(S,{}),Object(C.jsx)(ee,{}),Object(C.jsx)(L,{})]})})},le=function(){return Object(C.jsx)(oe,{})},se=function(){return Object(C.jsx)(le,{})},ue=n(33),de=n(71),he=n(72),je=n(16),be={weather:{weatherData:[],isLoading:!1}},fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return e;case q:return Object(je.a)(Object(je.a)({},e),{},{weatherData:t.payload.weather});case V:return Object(je.a)(Object(je.a)({},e),{},{isLoading:t.payload});case K:return Object(je.a)(Object(je.a)({},e),{},{length:t.payload.length});case Q:return Object(je.a)(Object(je.a)({},e),{},{isError:!0});default:return e}},Oe=Object(ue.combineReducers)({weather:fe}),pe=[de.a],xe=Object(ue.createStore)(Oe,be,Object(he.composeWithDevTools)(ue.applyMiddleware.apply(void 0,pe)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(Object(C.jsx)(u.a.StrictMode,{children:Object(C.jsx)(j.a,{store:xe,children:Object(C.jsx)(se,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){},92:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.b400a88c.chunk.js.map