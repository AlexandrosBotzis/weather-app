(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{115:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s,l=n(0),d=n.n(l),u=n(17),h=n.n(u),j=(n(86),n(11)),f=(n(92),n(143)),b=n(135),m=n(138),g=n(134),x=n(65),O=n.n(x),p=n(66),w=n.n(p),y=n(133),v=Object(l.createContext)(null),C=n(2),E=Object(y.a)((function(){return{arrowButtonsContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between","& svg":{height:"5rem",width:"5rem"}}}})),S=function(){var e=E(),t=Object(l.useContext)(v),n=t.selectedCardIndex,r=t.setSelectedCardIndex,a=function(e){return r("left"===e?n-1:n+1)},i=Object(j.c)((function(e){return{length:e.weather.length,isLoading:e.weather.isLoading}})),c=i.length;return!i.isLoading&&Object(C.jsxs)(m.a,{className:e.arrowButtonsContainer,size:"large","aria-label":"button group",fullWidth:!0,orientation:"horizontal",children:[Object(C.jsx)(g.a,{onClick:function(){return a("left")},color:"primary","aria-label":"left",disabled:n<=0,children:Object(C.jsx)(O.a,{})}),Object(C.jsx)(g.a,{onClick:function(){return a("right")},color:"primary","aria-label":"right",disabled:n>=c-1,children:Object(C.jsx)(w.a,{})})]})},L=function(e){return Math.round(1.8*(e-273)+32)},T=function(e,t,n){var r;return t?"".concat(Math.round((r=e,5/9*(r-32)))).concat(n?"\xb0C":""):"".concat(Math.round(e)).concat(n?"\xb0F":"")},I=n(22),M=n(23),_=M.a.div(r||(r=Object(I.a)(["\n  height: 20rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  max-width: 100%;\n  @media (max-width: 425px) {\n    margin: 1.6rem 0 0 1rem;\n    height: 10rem;\n  },\n"]))),N=M.a.div(a||(a=Object(I.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  @media (max-width: 425px) {\n    width: 40%;\n    transform: rotate(90deg);\n  },\n"]))),W=M.a.div(i||(i=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n"]))),k=M.a.div(c||(c=Object(I.a)(["\n  height: ","%;\n  background-color: #6495ed;\n  margin-top: 1rem;\n  width: 2.4rem;\n  box-shadow: 0 0 0.5rem black;\n\n  @media (max-width: 425px) {\n    width: 1.5rem;\n  }\n"])),(function(e){return e.height})),R=M.a.span(o||(o=Object(I.a)(["\n  font-size: 1.2rem;\n  text-align: center;\n  @media (max-width: 425px) {\n    transform: rotate(270deg);\n  },\n"]))),z=M.a.div(s||(s=Object(I.a)(["\n  font-size: 0.8rem;\n  margin-top: 0.5rem;\n  @media (max-width: 425px) {\n    margin-top: 2rem;\n    transform: rotate(270deg);\n  },\n"]))),A=function(){var e=Object(l.useContext)(v),t=e.isMetric,n=e.selectedCardIndex,r=Object(j.c)((function(e){return{forecast:e.weather.forecast}})).forecast,a=r&&r.length>0&&r.find((function(e){return e.id===n})).threeHour;return Object(C.jsx)(_,{children:Object(C.jsx)(N,{children:a&&a.map((function(e){return Object(C.jsxs)(W,{children:[Object(C.jsx)(R,{children:T(e.temp,t,!0)}),Object(C.jsx)(k,{height:T(e.temp,t)}),Object(C.jsxs)(z,{children:[" ",e.hour," "]})]})}))})})},D=n(136),H=n(141),B=n(70),F=n.n(B),Y=n(32),G=n.n(Y),J=(n(97),n(71)),P=n.n(J),U=function(e){var t=e.lat,n=e.long;return P.a.get("".concat("https://api.openweathermap.org/data/2.5","/forecast?lat=").concat(t,"&lon=").concat(n,"&appid=").concat("b4ba51d1cb7f483373fab3430dd14f6f"))},$="SET_WEATHER_START",q="SET_WEATHER_SUCCESS",K="SET_LOCATION",Q="SET_FORECAST_LENGTH",V="SET_WEATHER_ERROR",X="SET_IS_LOADING",Z=function(e){return{type:X,payload:e}},ee=function(e){var t=e.lat,n=e.long;return function(e){e({type:$}),U({lat:t,long:n}).then((function(t){console.log({res:t});var n,r=t.data,a=r.city,i=function(e){var t=[];return Object.keys(e).map((function(n,r){return t.push({id:r,date:G()(n).locale("de").format("LL"),threeHour:e[n].map((function(e){return{hour:G()(e.dt_txt).format("HH:mm"),temp:L(e.main.temp)}})),average:L((a=e[n],a.map((function(e){return e.main.temp})).reduce((function(e,t){return e+t}),0)/a.length))});var a})),t}(F.a.groupBy(r.list,(function(e){return G()(e.dt_txt).startOf("day").format("YYYY-MM-DD")})));e(function(e){return{type:q,payload:{forecast:e}}}(i)),e({type:K,payload:{location:a}}),e((n=i.length,{type:Q,payload:{length:n}}))})).catch((function(t){console.log(t),e({type:V,payload:t})})).finally((function(){e(Z({isLoading:!1}))}))}},te=Object(y.a)((function(){return{weatherContainer:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},weatherCard:{display:"flex",flexDirection:"column",alignItems:"center",padding:"0 1.6rem 1.6rem 1.6rem",border:"0.2rem solid","@media (max-width: 425px)":{padding:"0 0.5rem 0.5rem 0.5rem","&:not(:last-child)":{marginRight:"1.2rem"}}},title:{fontWeight:"400",fontSize:"1.4rem",marginBottom:"1rem",overflow:"auto","@media (max-width: 425px)":{fontSize:"1rem"}},subtitle:{fontSize:"0.8rem","@media (max-width: 425px)":{fontSize:"0.8rem"}},value:{fontWeight:"700",fontSize:"2rem",marginTop:"0"}}})),ne=function(){var e=Object(l.useContext)(v),t=e.isMetric,n=e.selectedCardIndex,r=Object(j.b)(),a=te();Object(l.useEffect)((function(){navigator.geolocation&&(r(Z({isLoading:!0})),navigator.geolocation.getCurrentPosition((function(e){r(ee({lat:e.coords.latitude,long:e.coords.longitude}))})))}),[r]);var i=Object(j.c)((function(e){return{forecast:e.weather.forecast,length:e.weather.length,isError:e.weather.isError}})),c=i.forecast,o=i.length,s=i.isError;Object(l.useEffect)((function(){s&&console.log("Cannot load weather for this place")}),[s]);var d=function(e){return e===n};return Object(C.jsx)(D.a,{className:a.weatherContainer,children:c&&c.map((function(e,r){return function(e){return 0===n?e<=n+2:n===o-1?e>=n-2:e===n||e===n+1||e===n-1}(r)&&Object(C.jsxs)(H.a,{className:a.weatherCard,elevation:d(r)?8:4,style:{borderColor:d(r)?"#6495ed":"#fff",opacity:d(r)?"1":"0.4"},children:[Object(C.jsx)("h6",{className:a.title,children:e.date}),Object(C.jsx)("p",{className:a.subtitle,children:" Daily Average: "}),Object(C.jsxs)("p",{className:a.value,children:[" ",T(e.average,t,!0)," "]})]})}))})},re=n(140),ae=n(139),ie=n(137),ce=function(){var e=Object(l.useContext)(v),t=e.isMetric,n=e.setIsMetric,r=Object(j.c)((function(e){return{isLoading:e.weather.isLoading}})).isLoading,a=t?"celcius":"fahrenheit";return!r&&Object(C.jsx)(D.a,{display:"flex",justifyContent:"center",children:Object(C.jsxs)(re.a,{row:!0,className:"radio","aria-label":"unit",name:"unit",value:a,onChange:function(){return n(!t)},children:[Object(C.jsx)(ae.a,{value:"fahrenheit",control:Object(C.jsx)(ie.a,{color:"primary"}),label:"Fahrenheit"}),Object(C.jsx)(ae.a,{value:"celcius",control:Object(C.jsx)(ie.a,{color:"primary"}),label:"Celcius"})]})})},oe=n(44),se=function(e){var t=e.children,n=Object(l.useState)(!1),r=Object(oe.a)(n,2),a=r[0],i=r[1],c=Object(l.useState)(2),o=Object(oe.a)(c,2),s=o[0],d=o[1];return Object(C.jsx)(v.Provider,{value:{isMetric:a,setIsMetric:i,selectedCardIndex:s,setSelectedCardIndex:d},children:t})},le=function(){var e=Object(j.c)((function(e){return{location:e.weather.location,isLoading:e.weather.isLoading}})),t=e.location,n=e.isLoading,r=Object(y.a)((function(){return{card:{display:"flex",justifyContent:"center",padding:"0 1rem",marginBottom:"1rem",backgroundColor:"#6495ed","& h3":{color:"#e6e6e6"}}}}))();return!n&&Object(C.jsx)(H.a,{className:r.card,children:Object(C.jsxs)("h3",{children:["Weather in: ",t&&t.name,",",t&&t.country]})})},de=function(){var e=Object(j.c)((function(e){return{isLoading:e.weather.isLoading}})).isLoading;return Object(C.jsxs)(C.Fragment,{children:[e&&Object(C.jsx)(f.a,{}),Object(C.jsx)(b.a,{maxWidth:"sm",children:Object(C.jsxs)(se,{children:[Object(C.jsx)(ce,{}),Object(C.jsx)(S,{}),Object(C.jsx)(le,{}),Object(C.jsx)(ne,{}),Object(C.jsx)(A,{})]})})]})},ue=function(){return Object(C.jsx)(de,{})},he=function(){return Object(C.jsx)(ue,{})},je=n(33),fe=n(72),be=n(73),me=n(14),ge={forecast:[],location:[],isError:!1,isLoading:!1},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return e;case q:return Object(me.a)(Object(me.a)({},e),{},{forecast:t.payload.forecast});case K:return Object(me.a)(Object(me.a)({},e),{},{location:t.payload.location});case X:return Object(me.a)(Object(me.a)({},e),{},{isLoading:t.payload.isLoading});case Q:return Object(me.a)(Object(me.a)({},e),{},{length:t.payload.length});case V:return Object(me.a)(Object(me.a)({},e),{},{isError:!0});default:return e}},Oe=Object(je.combineReducers)({weather:xe}),pe=[fe.a],we=Object(je.createStore)(Oe,ge,Object(be.composeWithDevTools)(je.applyMiddleware.apply(void 0,pe)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(Object(C.jsx)(d.a.StrictMode,{children:Object(C.jsx)(j.a,{store:we,children:Object(C.jsx)(he,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},86:function(e,t,n){},92:function(e,t,n){}},[[115,1,2]]]);
//# sourceMappingURL=main.bf6c349b.chunk.js.map