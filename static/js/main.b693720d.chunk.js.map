{"version":3,"sources":["context/context.jsx","components/ArrowButtonGroup.jsx","utils/unitConversion.jsx","components/styled.js","components/BarChart.jsx","api/weather.jsx","store/types.jsx","store/actions/weather.jsx","components/DailyForecast.jsx","components/RadioGroup.jsx","context/WeatherProvider.jsx","components/Location.jsx","components/Main.jsx","views/Home.jsx","App.js","store/state.jsx","store/reducers/WeatherReducer.jsx","store/AppStore.jsx","serviceWorker.js","index.js"],"names":["WeatherContext","createContext","useStyles","makeStyles","arrowButtonsContainer","display","flexDirection","justifyContent","height","width","ArrowButtonGroup","classes","useContext","selectedCardIndex","setSelectedCardIndex","onArrowClick","direction","length","useSelector","state","weather","ButtonGroup","className","size","aria-label","fullWidth","orientation","IconButton","onClick","color","disabled","kelvinToFahrenheit","num","Math","round","getTemperature","temperature","isMetric","symbol","temperatureInF","Container","styled","div","InnerContainer","BarChartContainer","Bar","props","Temperature","span","Label","BarChart","forecast","daily","find","item","id","threeHour","map","temp","hour","fetchWeatherData","lat","long","axios","get","SET_WEATHER_START","SET_WEATHER_SUCCESS","SET_LOCATION","SET_FORECAST_LENGTH","SET_WEATHER_ERROR","SET_IS_LOADING","setIsLoading","isLoading","type","payload","fetchWeatherFromApi","dispatch","then","res","console","log","data","city","Object","keys","index","push","date","moment","locale","format","threeHourTemp","dt_txt","main","average","array","val","reduce","p","c","transformWeatherData","_","groupBy","list","result","startOf","setWeatherSuccess","location","catch","err","finally","weatherContainer","weatherCard","alignItems","padding","border","marginRight","title","fontWeight","fontSize","marginBottom","overflow","subtitle","value","DailyForecast","useDispatch","useEffect","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","isError","isSelected","Box","idx","isVisible","Card","elevation","style","borderColor","opacity","RadioButtonGroup","setIsMetric","unit","RadioGroup","row","name","onChange","FormControlLabel","control","Radio","label","WeatherProvider","children","useState","Provider","Location","card","backgroundColor","country","MainContent","maxWidth","Home","Main","App","initialState","WeatherReducer","action","rootReducer","combineReducers","middleware","thunk","store","createStore","composeWithDevTools","applyMiddleware","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b693720d.chunk.js","sourcesContent":["import { createContext } from \"react\";\n\nconst WeatherContext = createContext(null);\n\nexport default WeatherContext;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { ButtonGroup } from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport WeatherContext from \"../context/context\";\n\nconst useStyles = makeStyles(() => ({\n  arrowButtonsContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    \"& svg\": {\n      height: \"5rem\",\n      width: \"5rem\",\n    },\n  },\n}));\n\nconst ArrowButtonGroup = () => {\n  const classes = useStyles();\n\n  const { selectedCardIndex, setSelectedCardIndex } = useContext(\n    WeatherContext\n  );\n\n  const onArrowClick = (direction) => {\n    let index;\n\n    // eslint-disable-next-line no-unused-expressions\n    direction === \"left\"\n      ? (index = selectedCardIndex - 1)\n      : (index = selectedCardIndex + 1);\n\n    return setSelectedCardIndex(index);\n  };\n\n  const { length } = useSelector((state) => ({\n    length: state.weather.length,\n  }));\n\n  return (\n    <ButtonGroup\n      className={classes.arrowButtonsContainer}\n      size=\"large\"\n      aria-label=\"button group\"\n      fullWidth\n      orientation=\"horizontal\"\n    >\n      <IconButton\n        onClick={() => onArrowClick(\"left\")}\n        color=\"primary\"\n        aria-label=\"left\"\n        disabled={selectedCardIndex <= 0}\n      >\n        <ArrowBackIosIcon />\n      </IconButton>\n      <IconButton\n        onClick={() => onArrowClick(\"right\")}\n        color=\"primary\"\n        aria-label=\"right\"\n        disabled={selectedCardIndex >= length - 1}\n      >\n        <ArrowForwardIosIcon />\n      </IconButton>\n    </ButtonGroup>\n  );\n};\n\nexport default ArrowButtonGroup;\n","export const kelvinToFahrenheit = (num) =>\n  Math.round((9 / 5) * (num - 273) + 32);\n\nexport const getTemperature = (temperature, isMetric, symbol) => {\n  const convertToCelcius = (temperatureInF) => (temperatureInF - 32) * (5 / 9);\n\n  return isMetric\n    ? `${Math.round(convertToCelcius(temperature))}${symbol ? \"\\xB0C\" : \"\"}`\n    : `${Math.round(temperature)}${symbol ? \"\\xB0F\" : \"\"}`;\n};\n","import styled from \"styled-components\";\n\nexport const Container = styled.div`\n  height: 20rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  max-width: 100%;\n  @media (max-width: 425px) {\n    margin: 1.6rem 0 0 2.6rem;\n    height: 10rem;\n  },\n`;\n\nexport const InnerContainer = styled.div`\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n  @media (max-width: 425px) {\n    width: 40%;\n    transform: rotate(90deg);\n  },\n`;\n\nexport const BarChartContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: center;\n`;\n\nexport const Bar = styled.div`\n  height: ${(props) => props.height}%;\n  background-color: #6495ed;\n  margin-top: 1rem;\n  width: 2.4rem;\n  box-shadow: 0 0 0.5rem black;\n\n  @media (max-width: 425px) {\n    width: 1.5rem;\n  }\n`;\n\nexport const Temperature = styled.span`\n  font-size: 1.2rem;\n  text-align: center;\n  @media (max-width: 425px) {\n    transform: rotate(270deg);\n  },\n`;\n\nexport const Label = styled.div`\n  font-size: 0.8rem;\n  margin-top: 0.5rem;\n  @media (max-width: 425px) {\n    margin-top: 2rem;\n    transform: rotate(270deg);\n  },\n`;\n","import React, { useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport WeatherContext from \"../context/context\";\nimport { getTemperature } from \"../utils/unitConversion\";\nimport {\n  Container,\n  InnerContainer,\n  BarChartContainer,\n  Bar,\n  Temperature,\n  Label,\n} from \"./styled\";\n\nconst BarChart = () => {\n  const { isMetric, selectedCardIndex } = useContext(WeatherContext);\n\n  const { forecast } = useSelector((state) => ({\n    forecast: state.weather.forecast,\n  }));\n\n  const daily =\n    forecast &&\n    forecast.length > 0 &&\n    forecast.find((item) => item.id === selectedCardIndex).threeHour;\n\n  return (\n    <Container>\n      <InnerContainer>\n        {daily &&\n          daily.map((item) => (\n            <BarChartContainer>\n              <Temperature>\n                {getTemperature(item.temp, isMetric, true)}\n              </Temperature>\n              <Bar height={getTemperature(item.temp, isMetric)} />\n              <Label> {item.hour} </Label>\n            </BarChartContainer>\n          ))}\n      </InnerContainer>\n    </Container>\n  );\n};\n\nexport default BarChart;\n","import axios from \"axios\";\n\nconst baseUrl = \"https://api.openweathermap.org/data/2.5\";\nconst apiKey = \"b4ba51d1cb7f483373fab3430dd14f6f\";\n\nconst fetchWeatherData = ({ lat, long }) =>\n  axios.get(`${baseUrl}/forecast?lat=${lat}&lon=${long}&appid=${apiKey}`);\n\nexport default fetchWeatherData;\n","export const SET_WEATHER_START = \"SET_WEATHER_START\";\nexport const SET_WEATHER_SUCCESS = \"SET_WEATHER_SUCCESS\";\nexport const SET_LOCATION = \"SET_LOCATION\";\nexport const SET_FORECAST_LENGTH = \"SET_FORECAST_LENGTH\";\nexport const SET_WEATHER_ERROR = \"SET_WEATHER_ERROR\";\nexport const SET_IS_LOADING = \"SET_IS_LOADING\";\nexport const SET_IS_ERROR = \"SET_IS_ERROR\";\n","import _ from \"lodash\";\nimport moment from \"moment\";\nimport \"moment/locale/de\";\nimport fetchWeatherData from \"../../api/weather\";\nimport { kelvinToFahrenheit } from \"../../utils/unitConversion\";\nimport {\n  SET_WEATHER_START,\n  SET_WEATHER_SUCCESS,\n  SET_LOCATION,\n  SET_WEATHER_ERROR,\n  SET_FORECAST_LENGTH,\n  SET_IS_LOADING,\n} from \"../types\";\n\nexport const setWeatherStart = () => ({\n  type: SET_WEATHER_START,\n});\n\nexport const setIsLoading = (isLoading) => ({\n  type: SET_IS_LOADING,\n  payload: isLoading,\n});\n\nexport const setWeatherSuccess = (forecast) => ({\n  type: SET_WEATHER_SUCCESS,\n  payload: { forecast },\n});\n\nexport const setLocation = (location) => ({\n  type: SET_LOCATION,\n  payload: { location },\n});\n\nexport const setForecastLength = (length) => ({\n  type: SET_FORECAST_LENGTH,\n  payload: { length },\n});\n\nexport const setWeatherFail = (error) => ({\n  type: SET_WEATHER_ERROR,\n  payload: error,\n});\n\nconst transformWeatherData = (res) => {\n  const forecast = [];\n  const averagePerDay = (array) =>\n    array.map((val) => val.main.temp).reduce((p, c) => p + c, 0) / array.length;\n\n  Object.keys(res).map((item, index) =>\n    forecast.push({\n      id: index,\n      date: moment(item).locale(\"de\").format(\"LL\"),\n      threeHour: res[item].map((threeHourTemp) => ({\n        hour: moment(threeHourTemp.dt_txt).format(\"HH:mm\"),\n        temp: kelvinToFahrenheit(threeHourTemp.main.temp),\n      })),\n      average: kelvinToFahrenheit(averagePerDay(res[item])),\n    })\n  );\n\n  return forecast;\n};\n\nexport const fetchWeatherFromApi = ({ lat, long }) => (dispatch) => {\n  dispatch(setWeatherStart());\n  dispatch(setIsLoading({ isLoading: true }));\n  // Promise.all([fetchWeatherData({ lat, long })])\n  //   .then((res) => Promise.all([res.data]))\n  fetchWeatherData({ lat, long })\n    .then((res) => {\n      console.log({ res });\n      const { data } = res;\n      const { city } = data;\n      const groupedResults = _.groupBy(data.list, (result) =>\n        moment(result.dt_txt).startOf(\"day\").format(\"YYYY-MM-DD\")\n      );\n      const forecast = transformWeatherData(groupedResults);\n      dispatch(setWeatherSuccess(forecast));\n      dispatch(setLocation(city));\n      dispatch(setForecastLength(forecast.length));\n    })\n    .catch((err) => {\n      console.log(err);\n      dispatch(setWeatherFail(err));\n    })\n    .finally(() => {\n      dispatch(setIsLoading({ isLoading: false }));\n    });\n};\n\n// Promise.all([fetchWeatherData(city), fetchExtendedForecastData(city)])\n// .then((res) => {\n//   return Promise.all([res[0].json(), res[1].json()]);\n// })\n// .then((res) => {\n//   const { forecast, weather } = transformWeatherData(res);\n//   dispatch(fetchWeatherSuccess(weather, forecast));\n//   dispatch(setIsInitialState(false));\n//   dispatch(setIsLoading(false));\n// })\n// .catch((err) => {\n//   dispatch(fetchWeatherFail(err));\n//   dispatch(setIsLoading(false));\n// });\n","import React, { useEffect, useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Box, Card } from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport WeatherContext from \"../context/context\";\nimport { fetchWeatherFromApi } from \"../store/actions/weather\";\nimport { getTemperature } from \"../utils/unitConversion\";\n\nconst useStyles = makeStyles(() => ({\n  weatherContainer: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    width: \"100%\",\n  },\n  weatherCard: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: \"0 1.6rem 1.6rem 1.6rem\",\n    border: \"0.2rem solid\",\n    \"@media (max-width: 425px)\": {\n      padding: \"0 0.5rem 0.5rem 0.5rem\",\n      \"&:not(:last-child)\": {\n        marginRight: \"1.5rem\",\n      },\n    },\n  },\n  title: {\n    fontWeight: \"400\",\n    fontSize: \"1.4rem\",\n    marginBottom: \"1rem\",\n    overflow: \"auto\",\n    \"@media (max-width: 425px)\": {\n      fontSize: \"1rem\",\n    },\n  },\n  subtitle: {\n    fontSize: \"0.8rem\",\n    \"@media (max-width: 425px)\": {\n      fontSize: \"0.8rem\",\n    },\n  },\n  value: {\n    fontWeight: \"700\",\n    fontSize: \"1.2rem\",\n  },\n}));\n\nconst DailyForecast = () => {\n  const { isMetric, selectedCardIndex } = useContext(WeatherContext);\n\n  const dispatch = useDispatch();\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition((data) => {\n        dispatch(\n          fetchWeatherFromApi({\n            lat: data.coords.latitude,\n            long: data.coords.longitude,\n          })\n        );\n      });\n    }\n  }, [dispatch]);\n\n  const { forecast, length, isError } = useSelector((state) => ({\n    forecast: state.weather.forecast,\n    length: state.weather.length,\n    isError: state.weather.isError,\n  }));\n\n  useEffect(() => {\n    if (isError) {\n      console.log(\"Cannot load weather for this place\");\n    }\n  }, [isError]);\n\n  const isSelected = (index) => index === selectedCardIndex;\n\n  const isVisible = (idx) => {\n    if (selectedCardIndex === 0) {\n      return idx <= selectedCardIndex + 2;\n    }\n\n    if (selectedCardIndex === length - 1) {\n      return idx >= selectedCardIndex - 2;\n    }\n\n    return (\n      idx === selectedCardIndex ||\n      idx === selectedCardIndex + 1 ||\n      idx === selectedCardIndex - 1\n    );\n  };\n\n  return (\n    <Box className={classes.weatherContainer}>\n      {forecast &&\n        forecast.map(\n          (value, idx) =>\n            isVisible(idx) && (\n              <Card\n                className={classes.weatherCard}\n                elevation={isSelected(idx) ? 8 : 4}\n                style={{\n                  borderColor: isSelected(idx) ? \"#6495ed\" : \"#fff\",\n                  opacity: isSelected(idx) ? \"1\" : \"0.4\",\n                }}\n              >\n                <h6 className={classes.title}>{value.date}</h6>\n                <p className={classes.subtitle}> Daily Average: </p>\n                <p className={classes.value}>\n                  {\" \"}\n                  {getTemperature(value.average, isMetric, true)}{\" \"}\n                </p>\n              </Card>\n            )\n        )}\n    </Box>\n  );\n};\n\nexport default DailyForecast;\n","import React, { useContext } from \"react\";\nimport { Box, Radio, RadioGroup, FormControlLabel } from \"@material-ui/core\";\nimport WeatherContext from \"../context/context\";\n\nconst RadioButtonGroup = () => {\n  const { isMetric, setIsMetric } = useContext(WeatherContext);\n  const unit = isMetric ? \"celcius\" : \"fahrenheit\";\n\n  return (\n    <Box display=\"flex\" justifyContent=\"center\">\n      <RadioGroup\n        row\n        className=\"radio\"\n        aria-label=\"unit\"\n        name=\"unit\"\n        value={unit}\n        onChange={() => setIsMetric(!isMetric)}\n      >\n        <FormControlLabel\n          value=\"fahrenheit\"\n          control={<Radio color=\"primary\" />}\n          label=\"Fahrenheit\"\n        />\n        <FormControlLabel\n          value=\"celcius\"\n          control={<Radio color=\"primary\" />}\n          label=\"Celcius\"\n        />\n      </RadioGroup>\n    </Box>\n  );\n};\n\nexport default RadioButtonGroup;\n","import React, { useState } from \"react\";\nimport WeatherContext from \"./context\";\n\nconst WeatherProvider = ({ children }) => {\n  const [isMetric, setIsMetric] = useState(false);\n  const [selectedCardIndex, setSelectedCardIndex] = useState(2);\n\n  return (\n    <WeatherContext.Provider\n      value={{\n        isMetric,\n        setIsMetric,\n        selectedCardIndex,\n        setSelectedCardIndex,\n      }}\n    >\n      {children}\n    </WeatherContext.Provider>\n  );\n};\n\nexport default WeatherProvider;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst Location = () => {\n  const { location } = useSelector((state) => ({\n    location: state.weather.location,\n  }));\n\n  const useStyles = makeStyles(() => ({\n    card: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      padding: \"0 1rem\",\n      marginBottom: \"1rem\",\n      backgroundColor: \"#6495ed\",\n      \"& h3\": {\n        color: \"#e6e6e6\",\n      },\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <h3>\n        Weather in: {location && location.name},{location && location.country}\n      </h3>\n    </Card>\n  );\n};\n\nexport default Location;\n","import React from \"react\";\nimport { Container } from \"@material-ui/core\";\nimport ArrowButtonGroup from \"./ArrowButtonGroup\";\nimport BarChart from \"./BarChart\";\nimport DailyForecast from \"./DailyForecast\";\nimport RadioGroup from \"./RadioGroup\";\nimport WeatherProvider from \"../context/WeatherProvider\";\nimport Location from \"./Location\";\n\nconst MainContent = () => (\n  <Container maxWidth=\"sm\">\n    <WeatherProvider>\n      <RadioGroup />\n      <ArrowButtonGroup />\n      <Location />\n      <DailyForecast />\n      <BarChart />\n    </WeatherProvider>\n  </Container>\n);\nexport default MainContent;\n","import React from \"react\";\nimport Main from \"../components/Main\";\n\nconst Home = () => <Main />;\nexport default Home;\n","import React from \"react\";\nimport \"./App.css\";\nimport Home from \"./views/Home\";\n\nconst App = () => <Home />;\n\nexport default App;\n","const initialState = {\n  forecast: [],\n  location: [],\n  isError: false,\n  isLoading: false,\n};\n\nexport default initialState;\n","import {\n  SET_WEATHER_START,\n  SET_WEATHER_SUCCESS,\n  SET_LOCATION,\n  SET_FORECAST_LENGTH,\n  SET_WEATHER_ERROR,\n  SET_IS_LOADING,\n} from \"../types\";\nimport initialState from \"../state\";\n\nconst WeatherReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_WEATHER_START:\n      return state;\n    case SET_WEATHER_SUCCESS:\n      return {\n        ...state,\n        forecast: action.payload.forecast,\n      };\n    case SET_LOCATION:\n      return {\n        ...state,\n        location: action.payload.location,\n      };\n    case SET_IS_LOADING:\n      return {\n        ...state,\n        isLoading: action.payload.isLoading,\n      };\n    case SET_FORECAST_LENGTH:\n      return {\n        ...state,\n        length: action.payload.length,\n      };\n    case SET_WEATHER_ERROR:\n      return {\n        ...state,\n        isError: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default WeatherReducer;\n","import { createStore, combineReducers, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport WeatherReducer from \"./reducers/WeatherReducer\";\nimport initialState from \"./state\";\n\nconst rootReducer = combineReducers({\n  weather: WeatherReducer,\n});\n\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store/AppStore\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}